# Yilami-Payment

                                                      第三方支付方式：
1	银联商务(unionpay)	(于2002年,国内非金融支付行业综合支付的领导者,国内最大的银行卡收单专业化服务机构,银联商务有限公司 )
2	支付宝(alipay)      (全球领先的第三方支付平台,国内最大第三方支付平台,互联网支付最受用户信赖,支付宝(中国)网络技术有限公司 )
3	财付通(tenpay)	    (腾讯集团推出的专业支付平台,中国领先的在线支付服务提供商,第三方支付知名品牌,财付通支付科技有限公司 )
4	银联在线(ChinaPay)	(中国银联打造的互联网业务综合商务平台,第三方支付的领先者,中国银联控股上海银联电子支付服务有限公司 )
5	快钱(99bill)		(国内首家基于Email和手机号码的大型综合支付平台,国内领先的独立第三方支付企业,快钱支付清算信息有限公司 )
6	汇付天下(chinapnr)	(国内第三方支付行业领先企业,首家获得证监会批准开展网上基金销售支付结算业务的企业汇付天下有限公司 )
7	易宝支付(YeePay)	(中国行业支付的开创者,国内互联网金融行业领先型企业,中国最具成长价值的电子支付品牌,易宝支付有限公司 )
8	通联支付(allinpay)	(领先的行业支付解决方案及综合支付服务提供商,上海市高新技术企业,通联支付网络服务股份有限公司 )
9	环迅支付(IPS)	    (中国最早成立的第三方支付企业之一,中国银行卡受理能力最强的电子支付平台之一,迅付信息科技有限公司 )
10	拉卡拉(lakala)	    (第三方移动支付的领导者,开发出中国第一个电子账单服务平台,知名便民金融服务平台,拉卡拉支付有限公司 )

=======================================================银联、第三方支付公司签约后的收款流程======================================================
商户网站将支付信息提供给支付网关后，网站引导用户进入相关银行网关进行支付，完成后银行扣款，并将支付结果返回给第三方支付公司，支付公司收到结果后将
为商户进行支付平台内的入账处理，等待结算。结算完成后，商户即可登录第三方支付平台进行提现，将资金通过第三方支付平台转入到自己的银行卡中。
现在支付公司提供的结算周期一般是T+1或T+0，T+1模式时，即用户支付完毕后，支付公司将在第二天进行结算，商户即可将资金提取到自己的银行卡，或支付公司直
接结算到约定的商户收款账户中。如果是T+0的模式，则支付资金可以随时清算，并提现到商户银行卡。

=======================================================与银联、第三方支付公司签约后的技术开发流程================================================
与支付公司签约后，网站将获得相关开商户号、密钥、支付网关以及开发文档。技术人员通过阅读文档，获取需要使用的相关数据参数，如商品名称、金额等，并通过
约定的加密方式及密钥进行加密处理，将以FORM表单POST或GET的方式发送给支付公司提供的支付网关URL。
支付网关收到商户提供的相关参数后将进行数据处理及加密验证，如果数据合格且密钥验证成功，将引导用户进入各家银行选择页面，用户在选择自己使用的银行后，
将进入相关银行的支付网关进行支付。
用户在银行网关成功付款后，银行进行扣款，并将支付结果回传给支付公司，支付公司收到银行的结果，同样进行签名验证，并将支付结果信息传递给商户网站。
支付公司将支付结果传递给商户网站也是通过FORM表单的方式，只是该数据传递属于服务器后端处理的。商户网站向支付公司发起支付请求传递支付相关参数时，
就包含一个或两个URL，用于指定接收支付结果的URL中。
商户网站接入支付结果有两种方式，一种是通过浏览器进行跳转通知，一种是服务器端异步通知。那么商户的技术人员该如何选择呢？我们对这两种通知类型进行分析。
浏览器跳转通知：这种方式主要是基于用户访问的浏览器，如果用户在银行页面支付成功后，直接关闭了页面，并未等待银行跳转到支付结果页面，那么商户网站就收
不到支付结果的通知，导致支付结果难以处理。而且浏览器端数据很容易被篡改，而降低安全性。所以我们推荐技术人员开发时使用后端服务器通知做技术判断，
而只将前台通知进行支付相关显示，不进行逻辑处理。
服务器异部通知：该方式是支付公司服务器后台直接向用户指定的异步通知URL发送参数，采用POST或GET的方式。商户网站接收异部参数的URL对应的程序中，要对支付
公司返回的支付结果进行签名验证，成功后进行支付逻辑处理，如验证金额、订单信息是否与发起支付时一致，验证正常则对订单进行状态处理或为用户进行网站内
入账等
